import Link from 'next/link';

import { Header } from '@/components/Header';
import { SearchField } from '@/components/SearchField';
import { GoToPageInput } from '@/components/GoToPageInput';
import { ThemeToggle } from '@/components/ThemeToggle';
import { LangToggle } from '@/components/LangToggle';
import { Locale } from '@/i18n/i18n-config';
import { i18n } from '@/i18n/i18n';
import { getNumberOfPermutations } from '@/utils/getNumberOfPermutations';
import { appConfig } from '@/app/[lang]/appConfig';

export default async function HomePage(props: {
  params: Promise<{ lang: Locale }>;
}) {
  const { lang } = await props.params;

  return (
    <main>
      <div className='container'>
        <Header>
          <LangToggle />
          <ThemeToggle />
        </Header>
        <article>
          <header>
            <h1>{i18n.t('title', {}, lang)}</h1>
          </header>
          <SearchField initialValue={''} lang={lang} />
        </article>
        <article>
          <header>{i18n.t('pager_title', {}, lang)}</header>
          <GoToPageInput
            lang={lang}
            goButtonLabel={i18n.t('go_button', {}, lang)}
          />
        </article>
        <article>
          <header>{i18n.t('about_title', {}, lang)}</header>
          <p
            dangerouslySetInnerHTML={{
              __html: i18n.t('about_text', {}, lang),
            }}
          />
          <footer>
            <a
              href='https://github.com/VAKHULA/library-of-babel'
              title='Code on Github'
            >
              Code on Github
            </a>
          </footer>
        </article>
        <article>
          <header>{i18n.t('some_links', {}, lang)}</header>
          <p className='flex'>
            <Link className='outline' href={`/${lang}/page?page=0`}>
              {i18n.t('first_page_button', {}, lang)}
            </Link>
            <Link
              className='outline'
              href={`/${lang}/page?page=${getNumberOfPermutations(appConfig.characterSet[lang].length, appConfig.pageLength) - BigInt(1)}`}
            >
              {i18n.t('last_page_button', {}, lang)}
            </Link>
            <Link
              className='outline'
              href={
                lang === 'en'
                  ? `/en/page?page=242597969307821237349873200242505060418544756445594906013848725440189658231082864840344759449835296067286454053367425466181894678349727193550528212159545261162483239983645776533679015279090962548802025395913206148594016134345697891544128293383627004945014408554116069362044310248951584869637242058227652507951415590043391256213861713638221618352239804142423068983571843127693587759792352766831810256468021776211354612831484695971568579333601380906681835309761597718915639694716423725415476482062754989322711708148030272176563595806598248567647792421863383688899719169930217368597925195175228598996981156651489810673112979317383892000197444849422958386427796461129489732536343952771036099904314086858259466955584934817397684886189334919042847618466513503018698382552466474414214758032025929285116822458602253703076459909777811387389064505202830809527926270822800806985957316953292379527359584713617852773175317988315359452261200277144537225230952887975669786704818594920663881011054529987445272216582752642826059395081137852028787170085800890834771358310617278804521600266920753891692447578490594295607357017587395983774877199354551115511508069410379352138800105038578085348023735714599530867558328579751451367293682366415792945082559777744675424719442147913891571608016201653808995641357226702207233752327831776963535608589062594978341669440307650128524880376860708893155849158251263374190002504004538055584847025791170631216610886766311768236318856374814377874327959696333088450341232966223970958747286065089155849326144360499831146987359963029655585197013857740307578436012067700949627406080035796868823954788165767330504226019027554303534167350462165228135840031598793769386707430161337044298885648726500049985176810528345238618939764835710189394010673857269698480037949793210799220486435686014882237819979567254768648356396099690311395523540616530329915166201443478976154861996856757131898603784015824950711450834252732002908489635780911703606085799959468697793498700303429989388859687253374350299523639845411286103395723799689796591131099543358782976789247023327285678886479538367305404356703883766614686666374665149740979056118916362759924839461483367276115339542389114277753365818768616017093078146924207355868947684766320470641397391467003567066782524377545884793186277414041750998615436137502921115970874694698810363420155134263896005208363513410155841956282696982652355799789432085745853422742977891932097493870415457193935570689656154457519940475236227156005294612782607772533024832362550827507634767842244894058873280924026075287285578434155620810718497701790493490481536722835891448936592393620751090764218114751185889011974462957127849659984015423541353966526539895718277451017842475721908356656192631372205805898448479700572863050336478334376780377414560262030190664028009838559963876467582531900846547266323582257827743128674737945951319750509166672696472109157356350842599540280756344780610727474237560280212000498992527653740413603988812461284618295195261429828916956178647111624688999102607456709471104453321824646786953112018160189751854067439398677638564358092220736921286114535596757220164955040604095853867441216340969696929391681535794385289446628640202759785789648896718814105574236649348826070678368824037768687448769902757569432652699737795235433626552301063266018331247228858619665134560072321562093802960570692716206474191587426016025315049575683754340038826757553069387613342790472572722557875691277772319380561049128058054316692237610665941921230005091438162007775419010609418862815196794760892015322923802276502910074508109490570420252860211345470651071623381700872950879528215275551666267550490231365144467304393138112032249537913904318457263178048372019449710192244969161371591565805322987631916472782001589331017411299492486951249898284063561309147455940646579031730403280263596887900300781836390171691166835146937580808137621883649941917820066108641108576273060278402987065360565101392285470002830213378634358540041442988584730612126432869636866475899061164869467140294439445355818721899154075043661838320418672372681409957569186316848590823983461495504247748411104082459546639064891929860312665067353956423942102477157061797060527718036734949717780235335988524278576664694123672226578537252789432446708904120694622802362877788301615813112882319202245984098809480379329627061517098946731767551249583799834519316831843404624830763684080199773584592424074849891452364736915159162551323199395135619650338681376778597714591560539302744364332509769567212364663363843171289114021624604441719514663525760760078354067889102206204547214946161850736409886467255753817257432468603539679377233825889006205769182384760563898548537397472969207241600825900193`
                  : `/ua/page?page=838915546502317493125155171204058723189201843050325289530810535440529318409386198946043595697733647842273118638757130715365562470483261049278010287377016517682195573048453894747654727816678844422653336750829951617785005025725645145838299451540413878076948106986917690861725991186833056159968114096805198931609581911942133849174541960003858732802864707962520368919909659222543747880182637503086313513212264819018562670815962959774508084196060289515876791700133639169227759403507197445413514263812936964830746481190321457076058076671972835628913447467771937628120926230332032858629520575262870231051295700324947864723289754109085919301029350151688379530680819056813073711929344607803378625780870797359572208707393059423121877856657381466500259328528220934713081683081498570143215059718494078562552228624111148630117510342401237630076017511521536823492682409136312747016878583252500387622896761082555135865244504863059409224613209265211266904858676353322082081542557769424730059244484412622565519388736211735585483208765892662774115536894377389505833820200609454551307736516300821902257026065240913762668154312176571590609179230601804196912114894042230364838956757358692389436014346035224733638957864608713260047788324424729752092737112508676371334055499614015590761163987024731152078548842073754464079027339579321907246443267168380930458651928265719415639731280950427148099352345607767109582365106593273110039893233589794013992491964402890571384606172577821860844609462145882069356661262676006694857731290578576873484372682752327717169666608648555582463362514939312135758330458630514038129089299080136608608867482060891299162537024305535406115291453788475796251526704604350081836749756185975177803914753454553675815411146037994242241235352214368339431903016927522133084357196872218103851714770125667411080929335790285524525306600356354021306732219087165830536106366029269367241345509182880150515924247461450129419638453995821127235243576753642359180161154356241694408619993773488180434476308222874444658591652570135609800048457473337259214939270928542309035025828606764179714760188505476838048729244851657357744539122872572844168603988486671987353446739960148261963253510285085767689851829381223142593396036981241168558983210308927494485909495148858757423051288233444627566850118058360838292434477055030747988394818219398725600112249352776030998508320644603295099663170610127617599045882097747283947858429200175773978955853641703360017952372617500707973707077903537614175951731860062726612174944271151619139123578247987983000644657228039926411098781486782547488364848648589921916643616509356202743266629704426939273163279980095957550068191435544892403091780608727213705612097859043595678671268606217259133068006888023370721221527291944739279881129997720091108221084825690387337065065323008347533602119468516186316191921615409844101991710564573456571810542422634106390232386379725808555110278164572697558419573632767882352259667654674277846670875446469712822841772115016106645929906387020775663363971436806229182699568409523592679820156580535114239812773281129388517775414321110980984575538372971255058213039915248895142588179562017029721593413033884150636936647193381049180928861154340606345678012818214360885460463503695492661950374155969959702607238693577999005325280996936549587353612783527004381203249922186243910207029818700490683319046570607251554991881846889378845731352882226475551947167628634683342552306787761581896860534713006125393275988824773605512170203813447485945259033313319973695888298598381732581569270978984981286250209750318102726433289749053037834890666614181260558232975731180624104660305913983478911864417818047823181498930608501690118424513459340375342987581093900027018881484129415334170625244198008934214167617067874423746363896570112582397194420085308123465214897517314278990609717029841265411614090083521403430936689067307569833187948012608837093445606104053420357212490504966117329738346696661787014781899928574187268250931480273384891224455409464667651393327113454567218618248987809491314209438992509181148497814621503933837534610318978085896773162170074369551239684625553766260456778305001591749920439065848712094574493478544366841195771503658770100159653510291198806019128344888961919640049817717741820687724434493561672707678339520035023830883694808062472547254856896060537487645650884588771730168568160695206716339133755463272105638432798190923589315521977022943073995682380910078441881072225352811881493283831212200109990066835784307198169854423237226093824434548062685995458497450407957810978482275291368855916668770610070429596941501512239879345874673081425110568146466487652319795345742492813350057569418435206607068187136128986736722771966010416157892449895293981263661544676278040921842229383203480729660682834663660789751535462478555267568849064711244740072691455294184895506953064378863906781478404195329561888315671787934047918622268030461735905681183745600423585813526066938130549237771330877824997897960630133300389957042332331136538052`
              }
            >
              {lang === 'en' ? 'Romeo and Juliet' : 'Romeo Ромео і Джульєтта'}
            </Link>
          </p>
        </article>
      </div>
    </main>
  );
}
